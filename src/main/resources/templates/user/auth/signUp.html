<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>

<link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
 
<script src="//code.jquery.com/jquery-3.3.1.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
<meta charset="UTF-8">
<title>회원가입</title>
</head>
<body>
<h1>회원가입</h1>
<form action="/auth/signUp" method="post" id="signUpForm">
아이디 <input type="text" name="userId"><input type="button" value="중복확인" id="idCheck"><br>
비밀번호 <input type="password" name="userPw"><br>
비밀번호확인 <input type="password"><br>
휴대폰번호 <input type="text" name="userPhone" id="userPhone"><input type="button" value="인증번호"><br>
이메일 <input type="text" id="emailHead">@<input type="text" id="emailTail" disabled>
<select id="selectEmailTail">
	<option selected="selected">선택하기</option>
	<option id="naver">naver.com</option>
	<option id="daum">daum.net</option>
	<option id="inputText">직접입력</option>
</select>

<br>
이름 <input type="text" name="userName">
<br>
생년월일 <input type="text" name="userBirth" id="userBirth"><br>
주소 <input type="text" name="userAddress" id="userAddress" readOnly>
<input type="text" name="userPostcode" id="userPostcode"><br>
상세주소 <input type="text" name="userAddressDetail"><br>

<!-- hidden -->
<input type="text" name="userEmail" id="userEmail" hidden="true">
<input type="text" name="joinPlatform" value="일반" hidden="true">
<input type="text" th:value="${T(com.goodmeaning.vo.UserRole).USER}" name="userRole" hidden="true">


<input type="submit" value="회원가입">


</form>


</body>
<script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>
<script>

$(function () {
	// 주소 api
	$("#userAddress").click(function(){
		
		new daum.Postcode({
			oncomplete: function(data) {
				$("#userAddress").val(data.address);
				$("#userPostcode").val(data.zonecode);
				$("input[name=userAddressDetail]").focus();
			}
			
		}).open();
	});
	
	// 이메일 
	$("#selectEmailTail").change(function(){
		if($("#selectEmailTail").val() == "직접입력"){
			$("#emailTail").val("");
			$("#emailTail").attr("disabled",false);
			
		}else{
			$("#emailTail").val($("#selectEmailTail").val());
			$("#emailTail").attr("disabled",true);
			
		}
		
	});
	
	// submit 버튼 눌렀을 때
	// 1. userEmail = emailHead + emailTail
	$("#signUpForm").submit(function(){
		$("#userEmail").val($("#emailHead").val()+'@'+$("#emailTail").val());
	});
	
	// datepicker
	$(function() {
	       //input을 datepicker로 선언
	    $("#userBirth").datepicker({
	        dateFormat: 'yy-mm-dd' //달력 날짜 형태
	        ,showOtherMonths: true //빈 공간에 현재월의 앞뒤월의 날짜를 표시
	        ,showMonthAfterYear:true // 월- 년 순서가아닌 년도 - 월 순서
	        ,changeYear: true //option값 년 선택 가능
	        ,changeMonth: true //option값  월 선택 가능                
	        ,showOn: "both" //button:버튼을 표시하고,버튼을 눌러야만 달력 표시 ^ both:버튼을 표시하고,버튼을 누르거나 input을 클릭하면 달력 표시  
	        ,buttonImage: "http://jqueryui.com/resources/demos/datepicker/images/calendar.gif" //버튼 이미지 경로
	        ,buttonImageOnly: true //버튼 이미지만 깔끔하게 보이게함
	        ,buttonText: "선택" //버튼 호버 텍스트              
	        ,yearSuffix: "년" //달력의 년도 부분 뒤 텍스트
     	    ,monthNamesShort: ['1월','2월','3월','4월','5월','6월','7월','8월','9월','10월','11월','12월'] //달력의 월 부분 텍스트
	        ,monthNames: ['1월','2월','3월','4월','5월','6월','7월','8월','9월','10월','11월','12월'] //달력의 월 부분 Tooltip
	        ,dayNamesMin: ['일','월','화','수','목','금','토'] //달력의 요일 텍스트
	        ,dayNames: ['일요일','월요일','화요일','수요일','목요일','금요일','토요일'] //달력의 요일 Tooltip
	        ,minDate: "-100Y" //최소 선택일자(-1D:하루전, -1M:한달전, -1Y:일년전)
	        ,maxDate: "+1D" //최대 선택일자(+1D:하루후, -1M:한달후, -1Y:일년후)  
	    });                    
	       
	       //초기값을 오늘 날짜로 설정해줘야 합니다.
	    $('#datepicker').datepicker('setDate', 'today'); //(-1D:하루전, -1M:한달전, -1Y:일년전), (+1D:하루후, -1M:한달후, -1Y:일년후)            
	});
});


</script>
</html>